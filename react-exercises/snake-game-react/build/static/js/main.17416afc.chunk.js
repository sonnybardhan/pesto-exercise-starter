(this["webpackJsonpsnake-game-react"]=this["webpackJsonpsnake-game-react"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),u=(n(14),n(7)),i=n(1),s=n(8),f=n(6),l={saveBestScore:function(e,t){e((function(e){return t>e?t:e}))},outOfBounds:function(e){var t=e.x,n=e.y;return t<0||t>15||n<0||n>15},selfCollision:function(e,t){var n,r=e.x,a=e.y,c=Object(f.a)(t);try{for(c.s();!(n=c.n()).done;){var o=n.value;if(o.x===r&&o.y===a)return!0}}catch(u){c.e(u)}finally{c.f()}return!1},getScoreFromLS:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t).score:0},saveScoreInLS:function(e,t){localStorage.setItem(e,JSON.stringify({score:t}))},placeSnake:function(e,t){t.forEach((function(t){var n=t.x,r=t.y;e[n][r]=a.a.createElement("div",{className:"snake-segment",key:Math.random()})}))},placeFood:function(e,t){e[t.x][t.y]=a.a.createElement("div",{className:"food",key:Math.random()})},init:function(){for(var e=[],t=0;t<16;t++){e[t]=[];for(var n=0;n<16;n++)e[t][n]=a.a.createElement("div",{className:"grid-block",key:Math.random()})}return e},randomPosition:function(){return{x:Math.floor(16*Math.random()),y:Math.floor(16*Math.random())}},nextPosition:function(e,t){var n=Object(s.a)({},t[0]);switch(e){case"right":n.y+=1;break;case"left":n.y-=1;break;case"up":n.x-=1;break;case"down":n.x+=1}return n},useAnimation:function(e,t,n){var a=Object(r.useRef)(),c=Object(r.useRef)(),o=Object(r.useRef)(window.performance.now()),u=Object(r.useRef)(),i=Object(r.useRef)(),s=Object(r.useRef)(1e3/t);Object(r.useEffect)((function(){a.current=e}),[e]),Object(r.useEffect)((function(){if(n)return c.current=window.requestAnimationFrame((function e(){c.current=window.requestAnimationFrame(e),u.current=window.performance.now(),i.current=u.current-o.current,i.current>s.current&&(o.current=u.current-i.current%s.current,a.current())})),function(){window.cancelAnimationFrame(c.current)}}),[n])}},m=l.saveBestScore,b=l.outOfBounds,d=l.selfCollision,O=l.getScoreFromLS,j=l.saveScoreInLS,S=l.placeSnake,v=l.placeFood,h=l.init,y=l.randomPosition,E=l.nextPosition,g=l.useAnimation,k=function(){var e=h(),t=[{x:3,y:3},{x:3,y:2},{x:3,y:1}],n=Object(r.useState)(0),c=Object(i.a)(n,2),o=c[0],s=c[1],f=Object(r.useState)(e),l=Object(i.a)(f,2),k=l[0],p=l[1],w=Object(r.useState)(t),x=Object(i.a)(w,2),A=x[0],M=x[1],R=Object(r.useState)("right"),N=Object(i.a)(R,2),B=N[0],F=N[1],L=Object(r.useState)(y),P=Object(i.a)(L,2),C=P[0],I=P[1],J=Object(r.useState)(9),G=Object(i.a)(J,2),q=G[0],Y=G[1],D=Object(r.useState)(!1),T=Object(i.a)(D,2),U=T[0],W=T[1],z=Object(r.useState)(O("snakeGame")),H=Object(i.a)(z,2),K=H[0],Q=H[1],V=Object(r.useState)(""),X=Object(i.a)(V,2),Z=X[0],$=X[1],_=Object(r.useState)(!1),ee=Object(i.a)(_,2),te=ee[0],ne=ee[1],re=Object(r.useState)(performance.now()),ae=Object(i.a)(re,2),ce=(ae[0],ae[1]);function oe(e){var t=!1;if(ce((function(e){var n=performance.now();return Math.floor(n-e)/1e3>.075&&(t=!0),n})),[32,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault(),t)switch(e.keyCode){case 27:return ue();case 32:return W((function(e){return te||(ne(!0),F("right")),!e}));case 37:if("right"!==B)return F("left");break;case 38:if("down"!==B)return F("up");break;case 39:if("left"!==B)return F("right");break;case 40:if("up"!==B)return F("down")}}function ue(){$(o),s(0),p(h),M(t),F("right"),I(y),ne(!1),Y(9),W(!1)}return Object(r.useEffect)((function(){K&&j("snakeGame",K)}),[K]),Object(r.useEffect)((function(){return document.addEventListener("keydown",oe),function(){document.removeEventListener("keydown",oe)}}),[B]),g((function(){var t=E(B,A),n=[t].concat(Object(u.a)(A));if(b(t)||d(t,A))return ne(!1),m(Q,o),$(o),ue();t.x===C.x&&t.y===C.y?(s(o+5),I(y),Y((function(e){return o%10===0?e+1:e}))):n.pop(),function(t){M(t),S(e,A),v(e,C),p(e)}(n)}),q,U),a.a.createElement("div",{className:""},a.a.createElement("h1",{style:{textAlign:"center"}},"Snake!"),a.a.createElement("h2",null,a.a.createElement("span",null,U?"Score: ".concat(o):null)),a.a.createElement("div",{className:"main-map"},U?k:a.a.createElement("div",null,a.a.createElement("h1",{style:{textAlign:"center",fontWeight:"bold"}},Z&&!te?"Game over!":null),a.a.createElement("h2",{style:{textAlign:"center"}},Z&&!te?"You scored ".concat(Z):null),a.a.createElement("h2",{style:{textAlign:"center"}},"PRESS SPACEBAR TO ",te?"RESUME":"PLAY"))),a.a.createElement("h2",{style:{textAlign:"right"}},a.a.createElement("span",null,"Best: ",K?"".concat(K):0)))};var p=function(){return a.a.createElement("div",{className:""},a.a.createElement(k,null))};o.a.render(a.a.createElement(p,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.17416afc.chunk.js.map